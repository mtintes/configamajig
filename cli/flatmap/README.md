flatmap is originally from [nextmv-io/sdk](https://github.com/nextmv-io/sdk) and used under the Apache 2.0 licences

My changes are to add an [options parameter](https://github.com/mtintes/sdk) to not have to use the JSONPath defined prefix ($.) on keys, but they are right and that should exist. I just have a weirdo use case. Use that standard.